(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,n){},104:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(25),c=n.n(o),l=(n(91),n(29)),i=n(16),u=n(68),s=n(4),m=n(32),h=n(7);n(92);function d(){d=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof y?t:y,c=Object.create(o.prototype),l=new P(a||[]);return r(c,"_invoke",{value:k(e,n,l)}),c}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var h="suspendedStart",f="suspendedYield",p="executing",E="completed",g={};function y(){}function b(){}function v(){}var j={};u(j,c,function(){return this});var w=Object.getPrototypeOf,C=w&&w(w(F([])));C&&C!==n&&a.call(C,c)&&(j=C);var S=v.prototype=y.prototype=Object.create(j);function O(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function T(e,t){function n(r,o,c,l){var i=m(e[r],e,o);if("throw"!==i.type){var u=i.arg,s=u.value;return s&&"object"==typeof s&&a.call(s,"__await")?t.resolve(s.__await).then(function(e){n("next",e,c,l)},function(e){n("throw",e,c,l)}):t.resolve(s).then(function(e){u.value=e,c(u)},function(e){return n("throw",e,c,l)})}l(i.arg)}var o;r(this,"_invoke",{value:function(e,a){function r(){return new t(function(t,r){n(e,a,t,r)})}return o=o?o.then(r,r):r()}})}function k(t,n,a){var r=h;return function(o,c){if(r===p)throw new Error("Generator is already running");if(r===E){if("throw"===o)throw c;return{value:e,done:!0}}for(a.method=o,a.arg=c;;){var l=a.delegate;if(l){var i=N(l,a);if(i){if(i===g)continue;return i}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(r===h)throw r=E,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r=p;var u=m(t,n,a);if("normal"===u.type){if(r=a.done?E:f,u.arg===g)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(r=E,a.method="throw",a.arg=u.arg)}}}function N(t,n){var a=n.method,r=t.iterator[a];if(r===e)return n.delegate=null,"throw"===a&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==a&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;var o=m(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var c=o.arg;return c?c.done?(n[t.resultName]=c.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):c:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function F(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(a.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return b.prototype=v,r(S,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:b,configurable:!0}),b.displayName=u(v,i,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,i,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},O(T.prototype),u(T.prototype,l,function(){return this}),t.AsyncIterator=T,t.async=function(e,n,a,r,o){void 0===o&&(o=Promise);var c=new T(s(e,n,a,r),o);return t.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},O(S),u(S,i,"Generator"),u(S,c,function(){return this}),u(S,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},t.values=F,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(a,r){return l.type="throw",l.arg=t,n.next=a,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],l=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var i=a.call(c,"catchLoc"),u=a.call(c,"finallyLoc");if(i&&u){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(i){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;L(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,a){return this.delegate={iterator:F(t),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=e),g}},t}var f=function(){var e=Object(a.useState)({username:"",password:""}),t=Object(h.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(!1),f=Object(h.a)(c,2),p=f[0],E=f[1],g=Object(a.useState)(!1),y=Object(h.a)(g,2),b=y[0],v=y[1],j=Object(a.useState)("USER"),w=Object(h.a)(j,2),C=(w[0],w[1],function(e){o(Object(m.a)(Object(m.a)({},n),{},Object(s.a)({},e.target.name,e.target.value)))}),S=function(){var e=Object(u.a)(d().mark(function e(t){var a,r,o;return d().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:if(!(a=e.sent).ok){e.next=13;break}return r=a.headers.get("Authorization"),e.next=9,a.text();case 9:o=e.sent,r?(console.log("Token received:",r),sessionStorage.setItem("jwt",r),sessionStorage.setItem("role",o),E(!0)):console.log("Token not received"),e.next=14;break;case 13:console.log("Login failed");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.error("Error:",e.t0);case 19:case"end":return e.stop()}},e,null,[[1,16]])}));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){p&&v(!0)},[p]),b?r.a.createElement(i.a,{to:"/userView"}):r.a.createElement("div",{className:"main-page"},r.a.createElement("header",null,r.a.createElement("h1",null,"Explore Otter Weather World")),r.a.createElement("main",null,r.a.createElement("section",{className:"signup-section"},r.a.createElement("h2",null,"Join us Today!"),r.a.createElement("form",{onSubmit:S},r.a.createElement("div",{className:"App"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("label",{htmlFor:"username"},"Username")),r.a.createElement("td",null,r.a.createElement("input",{type:"text",name:"username",value:n.username,onChange:C,placeholder:"username"}))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("label",{htmlFor:"password"},"Password")),r.a.createElement("td",null,r.a.createElement("input",{type:"password",name:"password",value:n.password,onChange:C,placeholder:"password"}))))),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",id:"submit"},"Login"),r.a.createElement(l.b,{to:"/userView",className:"user-btn"}))),r.a.createElement("p",null,"Create an account"," ",r.a.createElement(l.b,{to:"/signup",className:"signup-btn"},"click here")))),r.a.createElement("section",{className:"container"},r.a.createElement("div",{className:"image-container"},r.a.createElement("img",{className:"img-fluid",src:"/img/image1.png",alt:"Weather 1"}),r.a.createElement("img",{className:"img-fluid",src:"/img/image2.png",alt:"Weather 2"}),r.a.createElement("img",{className:"img-fluid",src:"/img/image3.png",alt:"Weather 3"}),r.a.createElement("img",{className:"img-fluid",src:"/img/image4.png",alt:"Weather 4"}))),r.a.createElement("footer",null,r.a.createElement("p",null,"\xa9 2023 CST438 CSUMB.")))};n(101);var p=function(){var e=Object(a.useState)({name:"",email:"",password:"",city:"",statecode:"",countrycode:""}),t=Object(h.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),i=Object(h.a)(c,2),u=i[0],d=i[1],f=function(e){o(Object(m.a)(Object(m.a)({},n),{},Object(s.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"App"},r.a.createElement("div",{class:"container"},r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{id:"signup",onSubmit:function(e){e.preventDefault(),console.log(JSON.stringify(n)),console.log(n),fetch("http://localhost:8080/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){if(e.ok)return e.json();throw new Error("Signup failed")}).then(function(e){d("Signup successful!")}).catch(function(e){d("Signup failed. Please try again."),console.error("Signup failed:",e)})}},r.a.createElement("div",{class:"formgroup"},r.a.createElement("label",{id:"username"},"Username"),r.a.createElement("input",{type:"text",id:"name",name:"name",value:n.name,onChange:f,required:!0})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{id:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",name:"email",value:n.email,onChange:f,required:!0})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password",value:n.password,onChange:f,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"city"},"City"),r.a.createElement("input",{type:"text",id:"city",name:"city",value:n.city,onChange:f})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"statecode"},"State Code"),r.a.createElement("input",{type:"text",id:"statecode",name:"statecode",value:n.statecode,onChange:f})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"countrycode"},"Country Code"),r.a.createElement("input",{type:"text",id:"countrycode",name:"countrycode",value:n.countrycode,onChange:f})),r.a.createElement("button",{type:"submit"},"Create"),r.a.createElement(l.b,{to:"/",className:"back-link"},"Go Back")),u&&r.a.createElement("p",null,u)))},E=(n(53),n(147)),g=n(149),y=n(148),b=n(144),v=n(141),j=n(140);var w=function(e){var t=Object(a.useState)(!0),n=Object(h.a)(t,2),o=n[0],c=(n[1],sessionStorage.getItem("jwt")),l=Object(a.useState)(null),i=Object(h.a)(l,2),u=i[0],s=i[1];Object(a.useEffect)(function(){fetch("http://localhost:8080/getmoredata/".concat(e.data.cityName),{method:"GET",headers:{"Content-Type":"application/json",Authorization:c}}).then(function(e){if(e.ok)return e.json();throw new Error("HTTP error! Status: ".concat(e.status))}).then(function(e){s(e),console.log("Weather Data :",e),console.log(e.tempC),console.log(e.visibilityKiloM)}).catch(function(e){console.error("Error fetching extra weather data:",e)})},[]);var m=function(){e.handleCloseInfoDisplay()};return r.a.createElement(E.a,{open:o,onClose:m},r.a.createElement(b.a,null,"More Information"),r.a.createElement(y.a,null,r.a.createElement("h2",null,"Weather At ",e.data.cityName),r.a.createElement("br",null),null===u?r.a.createElement("p",null,"Loading..."):r.a.createElement("div",null,"Temperature: ",e.data.tempC,"\xb0C / ",e.data.tempF,"\xb0F",r.a.createElement("br",null),"Feels Like: ",u.feelsLikeC,"\xb0C / ",u.feelsLikeF,"\xb0F ",r.a.createElement("br",null),e.data.desc,r.a.createElement("br",null),"Humidity: ",u.humidity," Percent ",r.a.createElement("br",null),"Wind Speed: ",e.data.windSpeedMph," MPH /  ",e.data.windSpeedKph," KPH",r.a.createElement("br",null),"SunriseTime: ",u.sunriseTime,r.a.createElement("br",null),"SunsetTime: ",u.sunsetTime,r.a.createElement("br",null),"Visibility: ",u.visibilityMiles," Miles / ",u.visibilityKiloM," Kilometers",r.a.createElement("br",null),"Cloudiness: ",u.cloudsPercent," Percent",r.a.createElement("br",null))),r.a.createElement(g.a,null,r.a.createElement(v.a,{onClick:m,color:"primary"},"Close")))};var C=function(e){var t=Object(a.useState)(!0),n=Object(h.a)(t,2),o=n[0],c=(n[1],Object(a.useState)(e.tempUnit)),l=Object(h.a)(c,2),i=l[0],u=l[1],d=Object(a.useState)(e.speedUnit),f=Object(h.a)(d,2),p=f[0],j=f[1],w=sessionStorage.getItem("jwt"),C=sessionStorage.getItem("role"),S=Object(a.useState)({city:"",state_code:"",country_code:""}),O=Object(h.a)(S,2),T=O[0],k=O[1],N=Object(a.useState)("prefs"),x=Object(h.a)(N,2),L=x[0],P=x[1],F=Object(a.useState)(null),A=Object(h.a)(F,2),U=A[0],I=A[1];function D(){fetch("http://localhost:8080/getusers",{method:"GET",headers:{"Content-Type":"application/json",Authorization:w}}).then(function(e){if(e.ok)return e.json();throw new Error("HTTP error! Status: ".concat(e.status))}).then(function(e){console.log("USERS:",e),I(e)}).catch(function(e){console.error("Error fetching Users",e)})}var M=function(e){k(Object(m.a)(Object(m.a)({},T),{},Object(s.a)({},e.target.name,e.target.value)))},H=function(){e.handleCloseSettings()},_=function(e){u(e)},W=function(e){j(e)},G=function(e){window.confirm("Are you sure you want to delete ".concat(e.name,"?"))?(console.log("Deleting user: ".concat(e.name)),function(e){console.log(e.id),fetch("http://localhost:8080/user/".concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:w}}).then(function(e){if(e.ok)return D(),e.json();throw new Error("HTTP error! Status: ".concat(e.status))}).catch(function(e){console.error("Error deleting User",e)})}(e)):console.log("Deletion canceled for user: ".concat(e.name))};return Object(a.useEffect)(function(){fetch("http://localhost:8080/getuser",{method:"GET",headers:{"Content-Type":"application/json",Authorization:w}}).then(function(e){if(e.ok)return e.json();throw new Error("HTTP error! Status: ".concat(e.status))}).then(function(e){console.log("USER:",e),k({city:e.city,state_code:e.stateCode,country_code:e.countryCode}),console.log("USERSET:",T)}).catch(function(e){console.error("Error fetching User",e)})},[]),r.a.createElement(E.a,{open:o,onClose:H},r.a.createElement(b.a,{style:{textAlign:"center"}},"Settings"),"prefs"===L?r.a.createElement(y.a,{id:"content"},"Choose Default Temperature To Display",r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"tempUnit",value:"F",checked:"F"===i,onChange:function(){return _("F")}}),"Fahrenheit"),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"tempUnit",value:"C",checked:"C"===i,onChange:function(){return _("C")}}),"Celsius"),r.a.createElement("br",null),"Choose Default Wind Speed",r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"speedUnit",value:"M",checked:"M"===p,onChange:function(){return W("M")}}),"  MPH",r.a.createElement("br",null)),r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"speedUnit",value:"K",checked:"K"===p,onChange:function(){return W("K")}}),"KPH"),r.a.createElement("br",null),"Update Address",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"city"},"City"),r.a.createElement("input",{type:"text",id:"city",name:"city",value:T.city,onChange:M})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"statecode"},"State Code"),r.a.createElement("input",{type:"text",id:"state_code",name:"state_code",value:T.state_code,onChange:M})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"countrycode"},"Country Code"),r.a.createElement("input",{type:"text",id:"country_code",name:"country_code",value:T.country_code,onChange:M}))):r.a.createElement(y.a,null,null===U?r.a.createElement("p",null,"Loading Users..."):r.a.createElement("table",{id:"usersTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,U.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.name),r.a.createElement("td",null," ",e.email),r.a.createElement("td",null,r.a.createElement("button",{id:"deleteUserBtn",onClick:function(){return G(e)}}," Delete User")),"  ")})))),r.a.createElement(g.a,null,r.a.createElement(v.a,{color:"secondary",onClick:H},"Cancel"),"ADMIN"===C&&"prefs"===L?r.a.createElement(v.a,{onClick:function(){D(),P("users")}},"Delete Users"):null,"users"===L?r.a.createElement(v.a,{onClick:function(){P("prefs")}},"Back"):null,r.a.createElement(v.a,{id:"updateAddressBtn",color:"secondary",onClick:function(){console.log(T),fetch("http://localhost:8080/address",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:w},body:JSON.stringify(T)}).then(function(e){if(e.ok)return e.json();throw new Error("HTTP error! Status: ".concat(e.status))}).catch(function(e){console.error("Error updating User address",e)}),e.handleTemp(i),e.handleSpeed(p),e.getUserWeather(),H()}},"Update Settings")))};var S=function(){var e=Object(a.useState)(null),t=Object(h.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(null),i=Object(h.a)(c,2),u=i[0],s=i[1],m=Object(a.useState)(null),d=Object(h.a)(m,2),f=d[0],p=d[1],S=localStorage.getItem("tempUnit")||"F",O=Object(a.useState)(S),T=Object(h.a)(O,2),k=T[0],N=T[1],x=localStorage.getItem("speedUnit")||"M",L=Object(a.useState)(x),P=Object(h.a)(L,2),F=P[0],A=P[1],U=sessionStorage.getItem("jwt"),I=sessionStorage.getItem("role"),D=Object(a.useState)(!1),M=Object(h.a)(D,2),H=M[0],_=M[1],W=Object(a.useState)(!1),G=Object(h.a)(W,2),K=G[0],z=G[1],R=Object(a.useState)(""),B=Object(h.a)(R,2),J=B[0],V=B[1],q=Object(a.useState)(""),Y=Object(h.a)(q,2),Q=Y[0],X=Y[1],Z=Object(a.useState)(""),$=Object(h.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)(!1),ae=Object(h.a)(ne,2),re=ae[0],oe=ae[1],ce=Object(a.useState)(!1),le=Object(h.a)(ce,2),ie=le[0],ue=le[1],se=Object(a.useState)(null),me=Object(h.a)(se,2),he=me[0],de=me[1],fe=Object(a.useState)(null),pe=Object(h.a)(fe,2),Ee=pe[0],ge=pe[1],ye=Object(a.useState)(null),be=Object(h.a)(ye,2),ve=(be[0],be[1],Object(a.useState)(null)),je=Object(h.a)(ve,2),we=je[0],Ce=je[1],Se=Object(a.useState)(!0),Oe=Object(h.a)(Se,2),Te=Oe[0],ke=Oe[1],Ne=Object(a.useState)(!1),xe=Object(h.a)(Ne,2),Le=xe[0],Pe=xe[1],Fe=Object(a.useState)(null),Ae=Object(h.a)(Fe,2),Ue=Ae[0],Ie=Ae[1],De=Object(a.useState)("user"),Me=Object(h.a)(De,2),He=Me[0],_e=Me[1],We=function(e){de(e),ue(!0)},Ge=function(){_(!1)},Ke=function(){z(!1)};function ze(){fetch("http://localhost:8080/usercities",{method:"GET",headers:{"Content-Type":"application/json",Authorization:U}}).then(function(e){if(e.ok)return e.json();throw new Error("HTTP error! Status: ".concat(e.status))}).then(function(e){console.log(e),Ie(e)}).catch(function(e){console.error("Error fetching user cities data:",e)})}function Re(){console.log("TOKEN: ",U),null!=U?fetch("http://localhost:8080/getuserweather",{method:"GET",headers:{"Content-Type":"application/json",Authorization:U}}).then(function(e){if(e.ok)return e.json();throw new Error("HTTP error! Status: ".concat(e.status))}).then(function(e){o(e),console.log("CURRENT USER WEATHER:",e)}).catch(function(e){console.error("Error fetching user weather data:",e)}):console.log("TOKEN IS NULL")}function Be(){fetch("http://localhost:8080/getweathers",{method:"GET",headers:{"Content-Type":"application/json",Authorization:U}}).then(function(e){if(e.ok)return e.json();throw new Error("HTTP error! Status: ".concat(e.status))}).then(function(e){p(e),console.log("Weather Data Array:",e)}).catch(function(e){console.error("Error fetching default weather data:",e)})}return Object(a.useEffect)(function(){Be()},[]),Object(a.useEffect)(function(){},[u]),Object(a.useEffect)(function(){Re()},[]),Object(a.useEffect)(function(){"user"===He?ze():fetch("http://localhost:8080/defaultcities",{method:"GET",headers:{"Content-Type":"application/json",Authorization:U}}).then(function(e){if(e.ok)return e.json();throw new Error("HTTP error! Status: ".concat(e.status))}).then(function(e){console.log(e),Ie(e)}).catch(function(e){console.error("Error fetching default cities data:",e)})},[He]),r.a.createElement("div",{className:"main-page"},r.a.createElement("div",{className:"header-container"},r.a.createElement("h1",null,"User View Weather"),r.a.createElement("button",{onClick:function(){oe(!0)}},"Settings"),r.a.createElement(l.b,{to:"/",className:"back-link"},"Go Back")),!0===re?r.a.createElement(C,{handleCloseSettings:function(){oe(!1)},handleSpeed:function(e){A(e),localStorage.setItem("speedUnit",e)},getUserWeather:Re,handleTemp:function(e){N(e),localStorage.setItem("tempUnit",e)}}):r.a.createElement("p",null),null!==n?r.a.createElement("section",{className:"current-weather"},r.a.createElement("h2",null,"Weather At ",n.cityName),"Temperature: ","C"===k?"".concat(n.tempC,"\xb0C"):"".concat(n.tempF,"\xb0F"),r.a.createElement("br",null),"Description: ",n.desc,r.a.createElement("br",null),"Wind Speed: ","M"===F?"".concat(n.windSpeedMph,"MPH"):"".concat(n.windSpeedKph,"KPH"),r.a.createElement("br",null),r.a.createElement("button",{id:"moreinfoTable",onClick:function(){return We(n)}}," More Info")):r.a.createElement("p",null,"Loading..."),r.a.createElement("section",{className:"search-section"},r.a.createElement("h2",null,"Search Weather"),r.a.createElement("input",{type:"text",id:"cityInput",placeholder:"Enter City Name"}),r.a.createElement("button",{onClick:function(){var e=document.getElementById("cityInput").value;fetch("http://localhost:8080/getweather/".concat(e)).then(function(e){if(!e.ok)throw new Error("HTTP error! Status: ".concat(e.status));return e.json()}).then(function(e){s(e),console.log("WEATHERSEARCHED:",e)}).catch(function(e){console.error("Error fetching weather data:",e),te("Couldn't find results"),setTimeout(function(){te(null)},4e3)})}}," Search")),null!==ee?r.a.createElement("p",null,ee):r.a.createElement("p",null),null==u?r.a.createElement("p",null):r.a.createElement("p",null," ",r.a.createElement("h2",null,"Weather At ",u.cityName),r.a.createElement("br",null),"Temperature: ","C"===k?"".concat(u.tempC,"\xb0C"):"".concat(u.tempF,"\xb0F"),r.a.createElement("br",null),"Description: ",u.desc,r.a.createElement("br",null),"Wind Speed: ","M"===F?"".concat(u.windSpeedMph,"MPH"):"".concat(u.windSpeedKph,"KPH"),r.a.createElement("br",null),r.a.createElement("button",{id:"moreInfoSearch",onClick:function(){return We(u)},style:{marginRight:"10px"}}," More Info"),r.a.createElement("button",{id:"closeSearch",onClick:function(){s(null)}},"Close Results")),r.a.createElement("section",{className:"cities-weather"},r.a.createElement("div",{className:"header-container"},r.a.createElement("h2",null,"Weathers around the World"),"  ",r.a.createElement("button",{onClick:function(){_(!0)}}," Add City"),r.a.createElement("button",{onClick:function(){z(!0),ze()}}," Delete City")," "),r.a.createElement(E.a,{open:K,onClose:Ke},r.a.createElement(b.a,{style:{textAlign:"center"}},"Delete City From View"),r.a.createElement(y.a,{id:"content"},"ADMIN"===I?r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){Pe(!1),ke(!0),Ie(null),_e("user")}},"Your Cities")," ",r.a.createElement("button",{onClick:function(){ke(!1),Pe(!0),Ie(null),_e("default")}},"Default Cities")):null,null===Ue?r.a.createElement("p",null,"Loading..."):r.a.createElement(r.a.Fragment,null,Ue.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("label",null,r.a.createElement("input",{type:"radio",name:"userCity",value:e.city,onChange:function(){return function(e){Ce(e)}(e.city)}}),e.city))}))),r.a.createElement(g.a,null,r.a.createElement(v.a,{color:"secondary",onClick:Ke},"Cancel"),!0===Te?r.a.createElement(v.a,{id:"deleteCityBtn",color:"secondary",onClick:function(){null!==we&&fetch("http://localhost:8080/city/".concat(we),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:U}}).then(function(e){if(e.ok)return Be(),Ke(),e.json();throw new Error("HTTP error! Status: ".concat(e.status))}).catch(function(e){console.error("Error deleting user city data:",e)})}},"Delete City"):null,!0===Le?r.a.createElement(v.a,{id:"deleteDefault",color:"secondary",onClick:function(){null!==we&&fetch("http://localhost:8080/default/".concat(we),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:U}}).then(function(e){if(e.ok)return Be(),Ke(),e.json();throw new Error("HTTP error! Status: ".concat(e.status))}).catch(function(e){console.error("Error deleting default city data:",e)})}}," Delete Default City"):null)),r.a.createElement(E.a,{open:H,onClose:Ge},r.a.createElement(b.a,{style:{textAlign:"center"}},"Add City To View"),r.a.createElement(y.a,{id:"content"},r.a.createElement(j.a,{className:"dialog-input",label:"Name of city",cityName:"name",onChange:function(e){V(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(j.a,{className:"dialog-input",label:"Country Code",countryCode:"code",onChange:function(e){X(e.target.value)}}),r.a.createElement("br",null)),r.a.createElement(g.a,null,r.a.createElement(v.a,{color:"secondary",onClick:Ge},"Cancel"),r.a.createElement(v.a,{id:"addCityBtn",color:"secondary",onClick:function(){console.log(J),console.log(Q);var e={city:J,country_code:Q};fetch("http://localhost:8080/addcity",{method:"POST",headers:{"Content-Type":"application/json",Authorization:U},body:JSON.stringify(e)}).then(function(e){if(e.ok)return Be(),ge(null),Ge(),e.json();if(400!==e.status)throw new Error("HTTP error! Status: ".concat(e.status));ge("City already exists in the table"),setTimeout(function(){ge(null)},3e3)}).then(function(e){}).catch(function(e){console.error("Error adding city:",e)})}},"Add City"),null===Ee?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null)," ",Ee," "))),!0===ie&&null!==he?r.a.createElement(w,{data:he,tempUnit:k,speedunit:F,handleCloseInfoDisplay:function(){de(null),ue(!1)}}):r.a.createElement("p",null),null!==f?r.a.createElement("table",{id:"citiesTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"City"),r.a.createElement("th",null,"Temperature"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Wind Speed"),r.a.createElement("th",null,"More Info"))),r.a.createElement("tbody",null,f.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.cityName),r.a.createElement("td",null,"C"===k?"".concat(e.tempC,"\xb0C"):"".concat(e.tempF,"\xb0F")),r.a.createElement("td",null,e.desc),r.a.createElement("td",null," Wind Speed: ","M"===F?"".concat(e.windSpeedMph,"MPH"):"".concat(e.windSpeedKph,"KPH")),r.a.createElement("td",null,r.a.createElement("button",{id:"moreinfoTable",onClick:function(){return We(e)}}," More Info")),"  ")}))):r.a.createElement("p",null,"Loading cities weather...")))};var O=function(){return r.a.createElement(l.a,null,r.a.createElement("div",null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:f}),r.a.createElement(i.b,{path:"/signup",component:p}),r.a.createElement(i.b,{path:"/userView",component:S}),r.a.createElement(i.b,{path:"/moreInfo",component:w}),r.a.createElement(i.b,{path:"/settings",component:C}))))},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,151)).then(function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),o(e),c(e)})};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root")),T()},53:function(e,t,n){},86:function(e,t,n){e.exports=n(104)},91:function(e,t,n){},92:function(e,t,n){}},[[86,1,2]]]);
//# sourceMappingURL=main.9ae88e6b.chunk.js.map